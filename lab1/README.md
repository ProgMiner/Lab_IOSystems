# Лабораторная работа 1
## Вариант 1

**Название:** "Разработка драйверов символьных устройств"

**Цель работы:** получение знаний и навыков разработки драйверов символьных устройств
для ОС GNU/Linux.

## Описание функциональности драйвера

При записи текста в файл символьного устройства должен осуществляться подсчет введенных символов.
Последовательность полученных результатов (количество символов) с момента загрузки модуля ядра
должна выводиться при чтении созданного файла `/proc/var1` в консоль пользователя.

При чтении из файла символьного устройства в кольцевой буфер ядра должен осуществляться
вывод тех же данных, которые выводятся при чтении файла `/proc/var1`.

## Инструкция по сборке

**Используется ядро Linux версии 5.8.0-44**

Сборка драйвера:
```bash
make
```

Собирается и создаётся файл `lab1.ko`

Загрузка драйвера в систему:
```bash
make load
```

Выгрузка драйвера из системы:
```bash
make unload
```

Очистка дирректории от создаваемых файлов:
```bash
make clean
```

## Инструкция пользователя

Чтобы записать данные в `/dev/lab1` нужно воспользоваться командой `echo`
```bash
echo 1234 | sudo tee /dev/lab1
```

Чтобы прочитать данные из `/dev/lab1` нужно воспользоваться командой `cat`
```bash
sudo cat /dev/lab1
```

Для просмотра кольцевого буфера нужно воспользоваться командой `dmesg`
``` bash
sudo dmesg
```

## Примеры использования



## Заключение

В результате проделанной работы Эридан написал большую часть драйвера, я прочитал все статьи по этой теме, которые нашёл на русском языке, и некоторое количество импортных, но так до конца и не разобрался в теме (ИМХО). 

А если серьёзно, то интересно работать на уровне ядра, особенно когда все ломается. Не уследил за утечкой памяти, БАБАХ, ОЗУ 100%, дискорд вылетел, сидишь бухтишь.